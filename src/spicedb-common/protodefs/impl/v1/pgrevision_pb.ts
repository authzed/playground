// @generated by protoc-gen-es v2.4.0 with parameter "target=ts"
// @generated from file impl/v1/pgrevision.proto (package impl.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv1";
import { fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv1";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file impl/v1/pgrevision.proto.
 */
export const file_impl_v1_pgrevision: GenFile = /*@__PURE__*/
  fileDesc("ChhpbXBsL3YxL3BncmV2aXNpb24ucHJvdG8SB2ltcGwudjEigQEKEFBvc3RncmVzUmV2aXNpb24SDAoEeG1pbhgBIAEoBBIVCg1yZWxhdGl2ZV94bWF4GAIgASgDEhUKDXJlbGF0aXZlX3hpcHMYAyADKAMSFQoNb3B0aW9uYWxfdHhpZBgEIAEoBBIaChJvcHRpb25hbF90aW1lc3RhbXAYBSABKARCLlosZ2l0aHViLmNvbS9hdXRoemVkL3NwaWNlZGIvcGtnL3Byb3RvL2ltcGwvdjFiBnByb3RvMw");

/**
 * *
 * PostgresRevision is a compact binary encoding of a postgres snapshot as
 * described in the offial documentation here:
 * https://www.postgresql.org/docs/current/functions-info.html#FUNCTIONS-PG-SNAPSHOT-PARTS
 *
 * We use relative offsets for xmax and the xips to reduce the number of bytes
 * required for binary encoding using the protobuf varint datatype:
 * https://protobuf.dev/programming-guides/encoding/#varints
 *
 * @generated from message impl.v1.PostgresRevision
 */
export type PostgresRevision = Message<"impl.v1.PostgresRevision"> & {
  /**
   * @generated from field: uint64 xmin = 1;
   */
  xmin: bigint;

  /**
   * @generated from field: int64 relative_xmax = 2;
   */
  relativeXmax: bigint;

  /**
   * @generated from field: repeated int64 relative_xips = 3;
   */
  relativeXips: bigint[];

  /**
   * these are optional fields that are only present in strategic places that
   * need the information, but otherwise is omitted to reduce the overhead
   * of loading it from the DB and keeping it around in memory
   *
   * @generated from field: uint64 optional_txid = 4;
   */
  optionalTxid: bigint;

  /**
   * @generated from field: uint64 optional_timestamp = 5;
   */
  optionalTimestamp: bigint;
};

/**
 * Describes the message impl.v1.PostgresRevision.
 * Use `create(PostgresRevisionSchema)` to create a new message.
 */
export const PostgresRevisionSchema: GenMessage<PostgresRevision> = /*@__PURE__*/
  messageDesc(file_impl_v1_pgrevision, 0);

